# BCZ-Group-Manager

### A small group management tool for Chinese vocabulary software which  called [Bai Ci Zhan](https://www.baicizhan.com/), depends on [Flask](https://github.com/pallets/flask).

![GitHub Pipenv locked Python version](https://img.shields.io/github/pipenv/locked/python-version/shadlc/BCZ-Group-Manager)
![Scc Count Badge](https://sloc.xyz/github/shadlc/BCZ-Group-Manager)
![GitHub repo size](https://img.shields.io/github/repo-size/shadlc/BCZ-Group-Manager)
![GitHub - License](https://img.shields.io/github/license/shadlc/BCZ-Group-Manager)
![GitHub last commit](https://img.shields.io/github/last-commit/shadlc/BCZ-Group-Manager)

## ğŸ’¬ ç®€ä»‹
**èƒŒä¸ªå•è¯å·å°±ç®—äº†ï¼Œæ²¡æƒ³åˆ°è¿å°ç­éƒ½è¿™ä¹ˆå·äº†å—ï¼Ÿï¼(ï¼ƒÂ°Ğ”Â°)**

**ç™¾è¯æ–©å°ç­æ•°æ®ç®¡ç†å™¨ï¼Œè¿™ä¸ªå·¥å…·å¯ä»¥æ–¹ä¾¿çš„ä¸ºå„å¤§ç™¾è¯æ–©ç­é•¿ç®¡ç†å°ç­æä¾›ä¾¿æ·çš„æ“ä½œï¼Œå¯ä»¥è‡ªåŠ¨åŒ–çš„æŸ¥è¯¢å°ç­åˆ—è¡¨å’Œæ‰“å¡æ•°æ®ï¼Œé€šè¿‡ç›´æ¥å¯¹å®˜æ–¹APIè¿›è¡Œçˆ¬å–ï¼Œå¹¶å±•ç¤ºæ•°æ®ï¼Œæå¤§åœ°ä¸ºå„å¤§ç‹è€…å°ç­é•¿çœå¿ƒ**

### **æ³¨æ„â€¼ï¸ä½¿ç”¨æœ¬ç¨‹åºå‰ï¼Œéœ€è¦è‡ªè¡Œå¯¹ç™¾è¯æ–©APPè¿›è¡ŒæŠ“åŒ…è·å–æˆæƒä»¤ç‰Œ**

## âœ¨ ä¸»è¦åŠŸèƒ½

- **ä½¿ç”¨å‹å¥½çš„å‰ç«¯é¡µé¢è¿›è¡Œå±•ç¤ºä»¥åŠæä¾›ä¾›æ•°æ®ä¸‹è½½ï¼Œä»¥å‡ä¹±çœŸï¼ˆä¸æ˜¯**
- **ç›´è§‚çš„æ·»åŠ å’Œåˆ é™¤å…³æ³¨çš„å°ç­åŠŸèƒ½ï¼Œå¹¶ä»¥å°ç­ä¸ºå•ä½å±•ç¤ºæˆå‘˜æ‰“å¡æ•°æ®**
- **æ¸…æ™°æ˜äº†åœ°å±•ç¤ºå°ç­æˆå‘˜çš„èƒŒå•è¯æ•°é‡ã€ç¼ºå¡ã€æ™šå¡ã€æ¼å¡æƒ…å†µ**
- **å®æ—¶è·å–æŒ‡å…³æ³¨å°ç­çš„ä¿¡æ¯å’Œå…¶æˆå‘˜çš„æ‰“å¡ä¿¡æ¯**
- **ä½¿ç”¨`Crontab`è¯­æ³•å®šæ—¶è·å–æ‰“å¡ä¿¡æ¯ï¼Œå¹¶æœ‰å†å²æ•°æ®ä¿®æ­£**
 
## ğŸ“¸ ç•Œé¢å±•ç¤º

<div align=center>
<img src="https://github.com/shadlc/BCZ-Group-Manager/assets/46913095/93017366-a7bc-4bbf-9718-0e18c878917b" height=400px>
<img src="https://github.com/shadlc/BCZ-Group-Manager/assets/46913095/7bae85f6-eaa3-44ca-8e79-16f14f6da89e" height=400px>
<img src="https://github.com/shadlc/BCZ-Group-Manager/assets/46913095/fea62527-c138-45f1-84d3-e251e11ab551" height=400px>
</div>

## ğŸ“ ä½¿ç”¨æŒ‡å—

### å¯åŠ¨æ­¥éª¤
- **é¦–å…ˆç¡®ä¿ä½ å®‰è£…äº† Python3.11ã€git**
- **æœ¬é¡¹ç›®ä½¿ç”¨äº† pipenv ä¾é è™šæ‹Ÿç¯å¢ƒè¿›è¡Œä¾èµ–é¡¹ç®¡ç†ï¼Œè¯·ä½¿ç”¨ pip install pipenv å®‰è£…æ¨¡å—ä¹‹åå¯åŠ¨**
- **æœ¬é¡¹ç›®æ²¡æœ‰å®‰å…¨éªŒè¯ç³»ç»Ÿï¼Œè¯·è‡ªè¡Œå¢åŠ é‰´æƒæ¨¡å—â€¼ï¸æ³¨æ„ï¼Œç›´æ¥æš´éœ²åœ¨å…¬ç½‘ä¸Šæ˜¯æå…¶å±é™©çš„è¡Œä¸ºâ€¼ï¸**
- **å¯åŠ¨æ­¥éª¤**
  1. æ‰§è¡Œ `git clone https://github.com/shadlc/BCZ-Group-Manager.git`
  2. æ‰§è¡Œ `cd BCZ-Group-Manager/`
  3. æ‰§è¡Œ `pipenv install`
  4. æ‰§è¡Œ `pipenv run python ./app.py`
  5. å¯åŠ¨ç¨‹åºåï¼Œä¼šç”Ÿæˆä¸€ä¸ªjsonæ ¼å¼çš„é…ç½®æ–‡ä»¶å¹¶é€€å‡º
  6. å¯¹ç™¾è¯æ–©APPè¿›è¡ŒæŠ“åŒ…è·å–ä½ çš„`access_token`ï¼Œå°†å…¶`access_token`å¡«å…¥é…ç½®æ–‡ä»¶çš„`main_token`
  7. å†æ¬¡å¯åŠ¨ç¨‹åºï¼Œå°†ä¼šå¯åŠ¨æœ¬åœ°ç›‘å¬(é»˜è®¤`8840`ç«¯å£)ï¼Œæ‰“å¼€æµè§ˆå™¨`http://127.0.0.1:8840`è®¿é—®å¹¶ä½¿ç”¨

### é…ç½®è¯´æ˜
- **`host`ç›‘å¬åœ°å€ï¼Œé»˜è®¤åªå…è®¸æœ¬åœ°è®¿é—®ï¼Œå³`127.0.0.1`**
- **`port`ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ä¸º`8840`**
- **`database_path`æ•°æ®åº“è·¯å¾„ï¼Œé»˜è®¤ä¸º`./data.db`**
- **`main_token`å¿…å¡«ï¼Œæ˜¯æœ¬ç¨‹åºç”¨ä»¥è·å–å°ç­æ•°æ®çš„ä¸»è¦ä½¿ç”¨æˆæƒä»¤ç‰Œï¼Œä¸è¦åŠ å…¥ä»»ä½•éœ€è¦è·å–æ•°æ®çš„å°ç­**
- **`output_file`æ˜¯ç¨‹åºè¾“å‡ºExcelæ–‡ä»¶çš„æŒ‡å®šç›®å½•å’Œé»˜è®¤æ–‡ä»¶åï¼Œé»˜è®¤ä¸º`å°ç­æ•°æ®.xlsx`**
- **`daily_record`ä»¥`Crontab`è¯­æ³•è‡ªåŠ¨è®°å½•æ¯å¤©æ•°æ®ï¼Œé»˜è®¤ä¸ºæ™šä¸Š23ç‚¹59åˆ†ï¼Œå³`59 23 * * *`**
- **`daily_verify`æ™šäºè‡ªåŠ¨è®°å½•æ—¶é—´åçš„æ‰“å¡æ•°æ®ä¼šé—å¤±ï¼Œå› æ­¤ä»¥`Crontab`è¯­æ³•è‡ªåŠ¨æ ¡éªŒæœ¬å‘¨ä¸ä¸Šå‘¨æ‰“å¡è®°å½•ï¼Œè¡¥ä¸Šé—å¤±çš„æ‰“å¡æ•°æ®ï¼Œé»˜è®¤ä¸ºå‡Œæ™¨4ç‚¹æ•´ï¼Œå³`00 04 * * *`**
- **`cache_second`æ•°æ®æŸ¥è¯¢åŠŸèƒ½å®æ—¶æ•°æ®çš„æŸ¥è¯¢é—´éš”ï¼Œè®¾ç½®ç¼“å­˜æ—¶é—´é˜²æ­¢è¿‡äºé¢‘ç¹çš„å®æ—¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸º600ç§’**
- **`pass_key`ç­é•¿è¿œç¨‹æˆæƒç™½åå•ç”¨æˆ·ã€‚ä½¿ç”¨æ–¹æ³•æ˜¯è®©è¢«æ·»åŠ è€…è¿›ç­åæ”¹ååŠ ä¸Š[(4ä½æ—¥æœŸx10000+pass_key)xç”¨æˆ·ç™¾è¯æ–©id]çš„å‰å››ä½**

## ğŸ”Œ API

**éƒ¨åˆ†è¾ƒä¸ºå®ç”¨ç™¾è¯æ–©å®˜æ–¹æ¥å£åœ¨è¿™é‡Œæ•´ç†ä¸€ä¸‹**

### ä¸ªäººä¸»é¡µ
GET `https://social.baicizhan.com/api/deskmate/home_page`

### è´¦æˆ·ä¿¡æ¯
GET `https://passport.baicizhan.com/api/unified_user_service/personal_infos`

### ç”¨æˆ·ä¿¡æ¯
GET `https://social.baicizhan.com/api/deskmate/personal_details?uniqueId=XXXXXX`

### å°ç­åˆ—è¡¨
GET `https://group.baicizhan.com/group/own_groups?uniqueId=XXXXXX`

### æˆæƒç­åˆ—è¡¨
GET `https://group.baicizhan.com/group/get_group_authorization_page?uniqueId=XXXXXX`

### å°ç­æ’å
GET `https://group.baicizhan.com/group/get_group_rank`

### å°ç­æ‰“å¡ä¿¡æ¯
GET `https://group.baicizhan.com/group/information?shareKey=XXXXXX`

### å°ç­æœ¬å‘¨æ‰“å¡è¯¦æƒ…
GET `https://group.baicizhan.com/group/get_week_rank?shareKey=XXXXXX&week=1`

### å°ç­ä¸Šå‘¨æ‰“å¡è¯¦æƒ…
GET `https://group.baicizhan.com/group/get_week_rank?shareKey=XXXXXX&week=2`

### å°ç­å…¬å‘Šä¸æ”¶åˆ°æˆå‘˜åˆ—è¡¨
GET `https://group.baicizhan.com/group/notice?shareKey=XXXXXX`

### å°ç­ç§»é™¤ç”¨æˆ·
POST `https://group.baicizhan.com/group/remove_members`
```
{
  "shareKey":"XXXXXX",
  "memberIds":[
    XXXXXX
  ]
}
```

### åŠ å…¥å°ç­
POST `https://group.baicizhan.com/group/join`
```
{
  "shareKey":"XXXXXX",
  "source":"3"
}
```
```
{
  "inviteKey":"XXXXXX",
  "source":"0"
}
```

### é€€å‡ºå°ç­(è§£æ•£å°ç­)
GET `https://group.baicizhan.com/group/quit?shareKey=XXXXXX`

### åˆ›å»ºå°ç­
POST `https://group.baicizhan.com/group/create`
```
{
  "avatar":"/group/avatar/default0.png",
  "name":"",
  "introduction":""
}
```

### æ”¹å˜å°ç­åŠ å…¥æ–¹å¼
GET `https://group.baicizhan.com/group/set_only_public_key_join?shareKey=XXXXXX`

### è®¾ç½®å°ç­åç§°(æ¯30å¤©1æ¬¡)
POST `https://group.baicizhan.com/group/set_group_name`
```
{
  "shareKey":"XXXXXX",
  "name":""
}
```

### è®¾ç½®å°ç­ä»‹ç»(æ¯15å¤©1æ¬¡)
POST `https://group.baicizhan.com/group/set_group_introduction`
```
{
  "shareKey":"XXXXXX",
  "introduction":""
}
```

### è®¾ç½®å°ç­å…¬å‘Š(æ¯å¤©1æ¬¡)
POST `https://group.baicizhan.com/group/set_notice`
```
{
  "shareKey":"XXXXXX",
  "notice":""
}
```

### è®¾ç½®è‡ªå·±çš„ç­å†…æ˜µç§°(æ¯å¤©1æ¬¡)
POST `https://group.baicizhan.com/group/set_nickname`
```
{
  "shareKey":"XXXXXX",
  "nickname":""
}
```

### è®¾ç½®å°ç­äºŒç»´ç 
POST `https://group.baicizhan.com/group/set_group_qr_code?shareKey=XXXXXX&action=1 `
```
å›¾ç‰‡äºŒè¿›åˆ¶å†…å®¹
```

### è·å–å°ç­é‚€è¯·ç 
GET `https://group.baicizhan.com/group/invite_key?shareKey=XXXXXX`

### è·å–ç­é•¿æ’è¡Œæ¦œ
GET `https://group.baicizhan.com/group/get_group_leader_rank`

### æœç´¢ç”¨æˆ·
GET `https://social.baicizhan.com/api/social/get_friend_state?uniqueId=XXXXXX`

### é“œæ¿æ•°é‡
GET `https://learn.baicizhan.com/api/mall/proxy/creditmall/get_credit_vo`

### é“œæ¿è®°å½•
GET `https://learn.baicizhan.com/api/mall/proxy/creditmall/get_credit_records`

## âš ï¸ å…è´£ç”³æ˜

æ„Ÿè°¢æ‚¨é€‰æ‹©ä½¿ç”¨æœ¬å°ç­æ•°æ®ç®¡ç†å™¨ã€‚åœ¨ä½¿ç”¨æœ¬ç¨‹åºä¹‹å‰, è¯·æ‚¨**ä»”ç»†é˜…è¯»**å¹¶ç†è§£ä»¥ä¸‹å…è´£å£°æ˜å†…å®¹ï¼š

 - æœ¬ç¨‹åºåŸºäº[GPLv3](https://www.gnu.org/licenses/agpl-3.0.html)å¼€æºï¼Œä»…ä¾›ä¸ªäººå­¦ä¹ ã€ç ”ç©¶å’Œå…¶ä»–éå•†ä¸šæ€§è´¨çš„åˆæ³•ç”¨é€”, ä»»ä½•å› è¿åç›¸å…³æ³•å¾‹æ³•è§„æˆ–ä¾µçŠ¯ä»–äººæƒç›Šæ‰€å¯¼è‡´çš„æ³•å¾‹è´£ä»», ç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚
 - ç”¨æˆ·åœ¨ä½¿ç”¨æœ¬ç¨‹åºæ—¶, åº”éµå®ˆæ‰€åœ¨å›½å®¶æˆ–åœ°åŒºçš„æ³•å¾‹æ³•è§„, å¹¶å¯¹ä½¿ç”¨è¯¥ç¨‹åºäº§ç”Ÿçš„ä¸€åˆ‡åæœè´Ÿå…¨éƒ¨è´£ä»»ã€‚
 - æœ¬ç¨‹åºå¯¹äºç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½äº§ç”Ÿçš„å„ç§é£é™©ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºè¢«æ•°æ®æ¥æºå…¬å¸çš„å°ç¦ã€ç”¨æˆ·è‡ªèº«åˆè§„é—®é¢˜ç­‰ï¼‰ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚
 - ç”¨æˆ·è¿åæœ¬å£°æ˜æˆ–è€…æ»¥ç”¨æœ¬ç¨‹åºè¿›è¡Œéæ³•æ´»åŠ¨çš„, æ•°æ®æ¥æºå…¬å¸å°†æœ‰æƒè¿½ç©¶æ‚¨çš„æ³•å¾‹è´£ä»»ã€‚
 - æœ¬ç¨‹åºä½œè€…å¯¹ç”¨æˆ·ä½¿ç”¨æœ¬ç¨‹åºäº§ç”Ÿçš„ä¸€åˆ‡çº çº·ã€æŸå¤±æˆ–ä¼¤å®³ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚
 - ä¸€æ—¦ç”¨æˆ·å¼€å§‹ä½¿ç”¨æœ¬ç¨‹åº, åˆ™è§†ä¸ºç”¨æˆ·å·²å……åˆ†ç†è§£å¹¶åŒæ„æœ¬å…è´£å£°æ˜çš„å…¨éƒ¨å†…å®¹, å¦‚æœæ‚¨æ— æ³•æ¥å—ä¸Šè¿°æ¡æ¬¾, è¯·**ç«‹å³åœæ­¢**ä½¿ç”¨æœ¬ç¨‹åºã€‚
